# [타입스크립트 프로그래밍] TSC 와 타입 시스템


> 💡 본 포스트는 ***TypeScript Programming*** 을 읽고 정리한 것임을 밝힙니다.


## 📌  컴파일러

### 컴파일러의 동작 방식을 간단하게 살펴봅시다

우리가 이해할 수 있는 언어로 작성한 프로그램은 실제로 어떻게 실행이 되는 것일까요?

이는 바로 `컴파일러` 가 적절한 형태로 코드를 해석하고 이를 `런타임` 에 전달해주기 때문에 가능합니다.

대부분의 프로그래밍 언어는 다음의 과정을 통해 프로그램을 실행합니다.

```markdown
1. 컴파일러는 우리가 작성한 프로그램을 **AST** 로 파싱합니다.
2. 이후 컴파일러는 **AST** 를 다시 **바이트코드**로 변환합니다.
3. **런타임**은 바이트코드를 평가하여 결과를 반환합니다.
```

### 그렇다면 타입스크립트는?

타입스크립트와 다른 언어의 차이점은 컴파일러가 `바이트 코드` 대신 `JS 코드` 로 변환한다는 것입니다.

이후 변환된 `JS 코드` 가 런타임 (V8 엔진과 같은 환경) 에서 실행되는 것이죠.

### 타입스크립트의 타입 체크 과정

타입스크립트가 진정한 힘을 발휘하는 부분은 바로 `타입 체크` 과정입니다.

실제로 타입스크립트 코드가 `JS` 코드로 변환되는 과정은 다음과 같습니다.

```markdown
-------------- TS --------------
1. TypeScript 소스 -> TypeScript AST

2. 타입 검사기가 AST 확인

3. TypeScript AST -> JavaScript 소스로 변경

-------------- JS ---------------

4. JavaScript 소스 -> JavaScript AST

5. AST -> 바이트 코드

6. 런타임이 바이트코드를 평가
```

때문에 우리가 작성한 `타입 정보` 들은 `2번 단계` 에서만 사용되고 실제 코드에는 영향을 주지 않습니다.

## 📌  타입 시스템

### 타입 시스템이란?

타입 검사기가 타입 정보를 해석하는데 사용하는 규칙들의 집합입니다.

보통 `명시적` 으로 타입을 명시하는 것과 `타입을 추론` 하는 시스템으로 나뉩니다.

### TypeScript 의 타입 시스템

`TypeScript` 는 위 두 메커니즘을 모두 사용합니다.

개발자는 직접 타입을 명시할 수도 있고 타입 추론을 통해 타입의 안정성을 확보할 수 있습니다.

## 📌 JavaScript 와 TypeScript 타입 시스템 비교

### 1️⃣ 타입 결정 방식

`JavaScript` 는 `동적` 으로, `TypeScript` 는 `정적` 으로 결정됩니다.

TypeScript 의 장점은 `점진적으로` 타입을 확인한다는 것입니다.

프로그램을 컴파일 할 때 반드시 모든 타입을 알고 있을 필요는 없습니다.

때문에 `점진적으로 JS -> TS` 로 마이그레이션 할 때 특히 유용합니다.

### 2️⃣ 타입이 자동으로 변환되는가?

`JavaScript` 는 `자동` 으로, `TypeScript` 는 `대부분 그렇지 않습니다`.

### 3️⃣ 언제 타입을 확인하는가?

`JavaScript` 는 `런타임` 에, `TypeScript` 는 `컴파일 타임` 에 확인합니다.

### 4️⃣ 언제 에러를 검출하는가?

`JavaScript` 는 대부분 `런타임` 에, `TypeScript` 는 대부분 `컴파일 타임` 에 검출합니다.

JavaScript 는 몇가지 코드 문법오류와 같은 파싱 과정에서 발견할 수 있는 것들을 제외하면 

런타임에 에러를 던지거나 암묵적 형변환을 수행합니다.

그렇기 때문에 실제 코드를 실행해봐야 어떤 문제가 있는지 확인이 가능한데

TypeScript 는 컴파일 타입에 문법 에러와 타입 에러를 모두 확인할 수 있습니다.
